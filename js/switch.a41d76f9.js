(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["switch"],{"4cb6":function(e,t,a){"use strict";a("9c9b")},"9c9b":function(e,t,a){},f4fa:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n={class:"switch"};function s(e,t,a,s,r,o){const b=Object(c["z"])("Menu");return Object(c["s"])(),Object(c["f"])("div",n,[Object(c["i"])(b,{panel_fmid:e.data.panel_fmid},{default:Object(c["E"])(()=>[Object(c["h"])(Object(c["B"])(e.data.panel_fmid),1)]),_:1},8,["panel_fmid"])])}const r=e=>(Object(c["v"])("data-v-d9a6b580"),e=e(),Object(c["t"])(),e),o={key:0,class:"menu"},b={id:"app"},i={class:"list"},l=["onClick"],d={key:0},O=["href","label"],j={key:1,class:"error"},_={key:0},u=r(()=>Object(c["g"])("br",null,null,-1));function f(e,t,a,n,s,r){return Object(c["s"])(),Object(c["f"])(c["a"],null,[e.data.panel_name?(Object(c["s"])(),Object(c["f"])("div",o,[Object(c["g"])("h1",null,Object(c["B"])(e.data.panel_name),1),Object(c["g"])("div",b,[Object(c["g"])("ul",i,[(Object(c["s"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(e.data.treedata,t=>(Object(c["s"])(),Object(c["f"])("li",{key:t.id,class:"list-item"},[Object(c["g"])("a",{class:Object(c["o"])({active:e.data.active===t}),onClick:a=>e.dropdown(t.sw_name)},Object(c["B"])(t.sw_name),11,l),e.data.active===t.sw_name?(Object(c["s"])(),Object(c["f"])("ul",d,[(Object(c["s"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(t.bottom_objs,e=>(Object(c["s"])(),Object(c["f"])("li",{key:e.id,class:"sublist-item"},[Object(c["g"])("a",{href:e.obj_url,label:e.obj_name},Object(c["B"])(e.obj_name),9,O)]))),128))])):Object(c["e"])("",!0)]))),128))])])])):Object(c["e"])("",!0),e.data.error.title?(Object(c["s"])(),Object(c["f"])("div",j,[e.data.error.title?(Object(c["s"])(),Object(c["f"])("h1",_,Object(c["B"])(e.data.error.title),1)):Object(c["e"])("",!0),(Object(c["s"])(!0),Object(c["f"])(c["a"],null,Object(c["y"])(e.data.error.message,e=>(Object(c["s"])(),Object(c["f"])("div",{style:{"text-align":"left"},key:e},[Object(c["h"])(Object(c["B"])(e),1),u]))),128))])):Object(c["e"])("",!0)],64)}a("14d9");var p=a("cee4"),m=a("34d4");async function h(e){try{const t=m.sparqlUrl,a=`\n            PREFIX brick: <https://brickschema.org/schema/Brick#>\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    \n            select distinct ?PANEL_NM, ?SW_LBL, ?ENDOBJ_NM, ?ENDOBJ_SCAN where{\n            #電灯盤取得\n            ?PANEL <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${e}"@ja. #FMID：検索キー\n            ?PANEL rdfs:label ?PANEL_NM.\n    \n            #電灯盤SW取得\n            ?PANEL brick:hasPart ?SW.\n            ?SW rdfs:label ?SW_NM.\n            ?SW <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_d7843f2a_8710_4d42_bbe7_20f29037fd8e> ?SW_MEMO. #※備考\n            ?SW <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_7dce3876_b400_4a5a_a6d4_e37c5f2f2a1d> ?SW_LBL. #★ラベル：水色ボタンに表示\n    \n            #回路取得\n            ?SW brick:feeds ?CIRC.\n            ?CIRC rdfs:label ?CIRC_NM.\n    \n            #末端オブジェクト取得\n            ?CIRC brick:feeds ?ENDOBJ.\n            ?ENDOBJ rdfs:label ?ENDOBJ_NM. #末端オブジェクト名称：白ボタンに表示\n            ?ENDOBJ <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_cbdc3161_268f_4b71_8f71_5727436a50ba> ?ENDOBJ_SCAN. #3DスキャンURL：白ボタンにリンク埋め込み\n            }\n        `,c=t+"?query="+encodeURIComponent(a),n=await p["a"].get(c),s={};let r="";return n.data.results.bindings.forEach(e=>{r||(r=e["PANEL_NM"]["value"]),e["SW_LBL"]["value"]in s||(s[e["SW_LBL"]["value"]]=[]),s[e["SW_LBL"]["value"]].push({ENDOBJ_NM:e["ENDOBJ_NM"]["value"],ENDOBJ_SCAN:e["ENDOBJ_SCAN"]["value"]})}),[r,s,""]}catch(t){return["Error",{},t]}}var w=Object(c["j"])({name:"Menu",props:{panel_fmid:String},setup(e){const t=Object(c["w"])({panel_name:"",treedata:[{}],active:"",error:{title:"",message:[]}});function a(e){t.active=t.active===e?"":e}return h(e.panel_fmid).then(([a,c,n])=>{if(a&&"Error"!==a){t.panel_name=a;const e=[];Object.keys(c).forEach(t=>{const a=[];c[t].forEach(e=>{a.push({obj_name:e["ENDOBJ_NM"],obj_url:e["ENDOBJ_SCAN"]})}),e.push({sw_name:t,bottom_objs:a})}),t.treedata=e}else a?(t.error.title=m.dataException.title,m.dataException.message.forEach(e=>{t.error.message.push(e)}),t.error.message.push("・エラーコード：E002"),t.error.message.push("・URLパラメータ1：switch"),t.error.message.push("・FMID："+e.panel_fmid),t.error.message.push("・内容："+n)):(t.error.title=m.notFound.title,m.notFound.message.forEach(e=>{t.error.message.push(e)}),t.error.message.push("・エラーコード：E001"),t.error.message.push("・URLパラメータ1：switch"),t.error.message.push("・FMID："+e.panel_fmid))}),{data:t,dropdown:a}}}),g=(a("4cb6"),a("6b0d")),E=a.n(g);const N=E()(w,[["render",f],["__scopeId","data-v-d9a6b580"]]);var B=N,v=a("6605"),y=Object(c["j"])({name:"Switch",components:{Menu:B},setup(){const e=Object(c["w"])({panel_fmid:""}),t=Object(v["c"])();return e.panel_fmid=t.params.fmid,{data:e}}});const L=E()(y,[["render",s]]);t["default"]=L}}]);
//# sourceMappingURL=switch.a41d76f9.js.map