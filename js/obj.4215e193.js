(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["obj"],{"00ee":function(t,n,e){var r=e("b622"),c=r("toStringTag"),a={};a[c]="z",t.exports="[object z]"===String(a)},"0d26":function(t,n,e){var r=e("e330"),c=Error,a=r("".replace),i=function(t){return String(c(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,s=o.test(i);t.exports=function(t,n){if(s&&"string"==typeof t&&!c.prepareStackTrace)while(n--)t=a(t,o,"");return t}},"2ba4":function(t,n,e){var r=e("40d5"),c=Function.prototype,a=c.apply,i=c.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},"3bbe":function(t,n,e){var r=e("1626"),c=String,a=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw a("Can't set "+c(t)+" as a prototype")}},"3d99":function(t,n,e){"use strict";var r=e("7a23");const c=t=>(Object(r["v"])("data-v-4281e7e0"),t=t(),Object(r["t"])(),t),a={key:0,class:"network"},i={key:0},o={id:"graphviz"},s=["src"],l={key:1,class:"error"},p={key:0},d=c(()=>Object(r["g"])("br",null,null,-1));function u(t,n,e,c,u,f){return Object(r["s"])(),Object(r["f"])(r["a"],null,[t.data.panel_name?(Object(r["s"])(),Object(r["f"])("div",a,[Object(r["g"])("h1",null,Object(r["B"])(t.data.panel_name),1),t.data.defect_fmid?(Object(r["s"])(),Object(r["f"])("h2",i,Object(r["B"])(t.data.defect_fmid),1)):Object(r["e"])("",!0),Object(r["g"])("div",o,[Object(r["g"])("iframe",{src:t.data.src},null,8,s)])])):Object(r["e"])("",!0),t.data.error.title?(Object(r["s"])(),Object(r["f"])("div",l,[t.data.error.title?(Object(r["s"])(),Object(r["f"])("h1",p,Object(r["B"])(t.data.error.title),1)):Object(r["e"])("",!0),(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(t.data.error.message,t=>(Object(r["s"])(),Object(r["f"])("div",{style:{"text-align":"left"},key:t},[Object(r["h"])(Object(r["B"])(t),1),d]))),128))])):Object(r["e"])("",!0)],64)}e("14d9"),e("d9e2");var f=e("cee4"),_=e("34d4");async function h(t,n,e){try{const r=_.sparqlUrl;e&&console.log("不具合情報表示");let c="",a="";if("obj"==n)c=w(t),a=j(t);else{if("tree"!=n)throw new Error("URIパスが存在しません。");c=O(t),a=v(t)}const i=r+"?query="+encodeURIComponent(c),o=r+"?query="+encodeURIComponent(a),s=await f["a"].get(i),l=await f["a"].get(o);let p="",d={},u={};[p,d,u]=b(s.data.results.bindings,p,d,u),[p,d,u]=b(l.data.results.bindings,p,d,u);const h=m(p,d,u);return[p,h,""]}catch(r){return["Error","",r]}}function b(t,n,e,r){return t.forEach(t=>{n||(n=t["tgt_nm"]["value"]),console.log("tgt_node: "+n);const c=t["parent_nm"]["value"];console.log("parent_nm: "+c);const a=t["child_nm"]?t["child_nm"]["value"]:t["child"]["value"];console.log("child_nm: "+a);let i=1==t["parent_is_uri"]["value"]?t["parent"]["value"]:"";i=g(i),console.log("parent_uri: "+i);let o=1==t["child_is_uri"]["value"]||t["child"]&&t["child"]["value"].startsWith("http")?t["child"]["value"]:"";o=g(o),console.log("child_uri: "+o);const s=t["proc_nm"]?t["proc_nm"]["value"]:"";console.log("edge: "+s),c+a+s in e||(e[c+a+s]={parent_nm:c,child_nm:a,edge:s},c in r||(r[c]=i),a in r||(r[a]=o))}),[n,e,r]}function m(t,n,e){let r="digraph g {\n";r+="rankdir=LR\n",r+="node [style=filled,color=red];\n",r+=`"${t}";\n`,r+="node [style=filled,color=lightgrey];\n";for(const c of Object.values(n))r+=`"${c.parent_nm}" -> "${c.child_nm}" [label="${c.edge}"]\n`;for(const c of Object.keys(e))r+=`"${c}" [URL="${e[c]}"]\n`;return r+="}",console.log(r),r}function g(t){try{const n=new URL(t),e=n.origin,r=n.pathname,c=encodeURIComponent(n.search.slice(1));return e+r+(c?"?"+c:"")}catch(n){return t}}function w(t){const n=`\n        PREFIX brick: <https://brickschema.org/schema/Brick#>\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n        select distinct ?tgt ?tgt_nm ?parent_nm ?proc_nm ?child_nm ?parent ?child ?parent_tp_nm ?child_tp_nm ?parent_is_uri ?child_is_uri where{\n            #検索対象を取得\n            ?child <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${t}"@ja. #FMID：検索キー\n            \n            #再帰的に検索対象の下流のオブジェクトを検索（全種類の述語）\n            ?parent ?proc ?child.\n            ?parent rdfs:label ?parent_nm.\n            ?child rdfs:label ?child_nm.\n            ?proc rdfs:label ?proc_nm.\n            \n            #上流側要素のタイプ\n            ?parent a ?parent_tp.\n            ?parent_tp rdfs:label ?parent_tp_nm.\n        \n            #下流側要素のタイプ\n            ?child a ?child_tp.\n            ?child_tp rdfs:label ?child_tp_nm.\n        \n            #URIかどうか確認\n            BIND (isURI(?parent) AS ?parent_is_uri)\n            BIND (isURI(?child) AS ?child_is_uri)\n        \n            #tgtに値を設定\n            BIND (?child AS ?tgt)\n            ?tgt rdfs:label ?tgt_nm.\n        }\n    `;return n}function j(t){const n=`\n        PREFIX brick: <https://brickschema.org/schema/Brick#>\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        \n        select distinct ?tgt ?tgt_nm ?parent_nm ?proc_nm ?child_nm ?parent ?child ?parent_tp_nm ?child_tp_nm ?parent_is_uri ?child_is_uri where{\n            #検索対象を取得\n            ?parent <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${t}"@ja. #FMID：検索キー\n        \n            #再帰的に検索対象の下流のオブジェクトを検索（全種類の述語）\n            ?parent ?proc ?child.\n            ?parent rdfs:label ?parent_nm.\n            OPTIONAL {?child rdfs:label ?child_nm.} #?childが文字列の場合は?child_nmが取れないので、任意とした\n            ?proc rdfs:label ?proc_nm.\n            \n            #上流側要素のタイプ\n            ?parent a ?parent_tp.\n            ?parent_tp rdfs:label ?parent_tp_nm.\n            \n            #下流側要素のタイプ #?childが文字列の場合は?child_tpが取れないので、任意とした\n            OPTIONAL {\n                ?child a ?child_tp.\n                ?child_tp rdfs:label ?child_tp_nm.\n            }\n            \n            #URIかどうか確認\n            BIND (isURI(?parent) AS ?parent_is_uri)\n            BIND (isURI(?child) AS ?child_is_uri)\n            \n            #tgtに値を設定\n            BIND (?parent AS ?tgt)\n            ?tgt rdfs:label ?tgt_nm.\n        }\n    `;return n}function O(t){const n=`\n        PREFIX brick: <https://brickschema.org/schema/Brick#>\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        \n        select distinct ?tgt ?tgt_nm ?parent_nm ?proc_nm ?child_nm ?parent ?child ?parent_tp_nm ?child_tp_nm ?parent_is_uri ?child_is_uri where{\n            #電灯盤取得\n            ?tgt <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${t}"@ja. #FMID：検索キー\n            ?tgt rdfs:label ?tgt_nm.\n        \n            #再帰的に電灯盤の上流のオブジェクトを検索（hasPartsまたはfeedsで結びつくもの）\n            ?parent (brick:hasPart|brick:feeds)+ ?tgt. #1回以上再帰的に検索\n            ?child (brick:hasPart|brick:feeds)* ?tgt. #0回以上再帰的に検索\n            ?parent rdfs:label ?parent_nm.\n            ?child rdfs:label ?child_nm.\n            ?parent ?proc ?child.\n            ?proc rdfs:label ?proc_nm.\n            \n            #上流側要素のタイプ\n            ?parent a ?parent_tp.\n            ?parent_tp rdfs:label ?parent_tp_nm.\n            \n            #下流側要素のタイプ\n            ?child a ?child_tp.\n            ?child_tp rdfs:label ?child_tp_nm.\n                \n            #URIかどうか確認\n            BIND (isURI(?parent) AS ?parent_is_uri)\n            BIND (isURI(?child) AS ?child_is_uri)\n        }\n    `;return n}function v(t){const n=`\n        PREFIX brick: <https://brickschema.org/schema/Brick#>\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n        \n        select distinct ?tgt ?tgt_nm ?parent_nm ?proc_nm ?child_nm ?parent ?child ?parent_tp_nm ?child_tp_nm ?parent_is_uri ?child_is_uri where{\n            #電灯盤取得\n            ?tgt <http://www.semanticweb.org/chensisi/ontologies/2022/9/untitled-ontology-163:OWLObjectProperty_c91c8dae_12f9_45ab_ac9e_35a81e8c9dc3> "${t}"@ja. #FMID：検索キー\n            ?tgt rdfs:label ?tgt_nm.\n        \n            #再帰的に電灯盤の配下のオブジェクトを検索（hasPartsまたはfeedsで結びつくもの）\n            ?tgt (brick:hasPart|brick:feeds)* ?parent. #0回以上再帰的に検索\n            ?tgt (brick:hasPart|brick:feeds)+ ?child. #1回以上再帰的に検索\n            ?parent rdfs:label ?parent_nm.\n            ?child rdfs:label ?child_nm.\n            ?parent ?proc ?child.\n            ?proc rdfs:label ?proc_nm.\n            \n            #上流側要素のタイプ\n            ?parent a ?parent_tp.\n            ?parent_tp rdfs:label ?parent_tp_nm.\n            \n            #下流側要素のタイプ\n            ?child a ?child_tp.\n            ?child_tp rdfs:label ?child_tp_nm.\n                \n            #URIかどうか確認\n            BIND (isURI(?parent) AS ?parent_is_uri)\n            BIND (isURI(?child) AS ?child_is_uri)\n        }\n    `;return n}var y=Object(r["j"])({name:"Network",props:{panel_fmid:String,url_pathTop:String,defect_fmid:String},setup(t){const n=Object(r["w"])({panel_name:"",defect_fmid:"",treedata:[{}],active:"",src:"",error:{title:"",message:[]}});return t.defect_fmid&&(n.defect_fmid=t.defect_fmid),h(t.panel_fmid,t.url_pathTop,t.defect_fmid).then(([e,r,c])=>{if(e&&"Error"!==e){n.panel_name=e;let t=encodeURIComponent(r);const c=_.graphvizUrl+"?digraph="+t;console.log(c),n.src=c}else e?(n.error.title=_.dataException.title,_.dataException.message.forEach(t=>{n.error.message.push(t)}),n.error.message.push("・エラーコード：E002"),n.error.message.push("・URLパラメータ1："+t.url_pathTop),n.error.message.push("・FMID："+t.panel_fmid),n.error.message.push("・内容："+c)):(n.error.title=_.notFound.title,_.notFound.message.forEach(t=>{n.error.message.push(t)}),n.error.message.push("・エラーコード：E001"),n.error.message.push("・URLパラメータ1："+t.url_pathTop),n.error.message.push("・FMID："+t.panel_fmid))}),{data:n}}}),I=(e("6de2"),e("6b0d")),k=e.n(I);const E=k()(y,[["render",u],["__scopeId","data-v-4281e7e0"]]);n["a"]=E},"577e":function(t,n,e){var r=e("f5df"),c=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return c(t)}},"6de2":function(t,n,e){"use strict";e("86f9")},"6f19":function(t,n,e){var r=e("9112"),c=e("0d26"),a=e("b980"),i=Error.captureStackTrace;t.exports=function(t,n,e,o){a&&(i?i(t,n):r(t,"stack",c(e,o)))}},7156:function(t,n,e){var r=e("1626"),c=e("861d"),a=e("d2bb");t.exports=function(t,n,e){var i,o;return a&&r(i=n.constructor)&&i!==e&&c(o=i.prototype)&&o!==e.prototype&&a(t,o),t}},"86f9":function(t,n,e){},ab36:function(t,n,e){var r=e("861d"),c=e("9112");t.exports=function(t,n){r(n)&&"cause"in n&&c(t,"cause",n.cause)}},adb3:function(t,n,e){"use strict";e.r(n);var r=e("7a23");const c={class:"obj"};function a(t,n,e,a,i,o){const s=Object(r["z"])("Network");return Object(r["s"])(),Object(r["f"])("div",c,[Object(r["i"])(s,{panel_fmid:t.data.panel_fmid,url_pathTop:t.data.url_pathTop},null,8,["panel_fmid","url_pathTop"])])}var i=e("3d99"),o=e("6605"),s=Object(r["j"])({name:"Obj",components:{Network:i["a"]},setup(){const t=Object(r["w"])({panel_fmid:"",url_pathTop:""}),n=Object(o["c"])();return t.panel_fmid=n.params.fmid,t.url_pathTop=location.pathname.split("/")[1],{data:t}}}),l=e("6b0d"),p=e.n(l);const d=p()(s,[["render",a]]);n["default"]=d},aeb0:function(t,n,e){var r=e("9bf2").f;t.exports=function(t,n,e){e in t||r(t,e,{configurable:!0,get:function(){return n[e]},set:function(t){n[e]=t}})}},b980:function(t,n,e){var r=e("d039"),c=e("5c6c");t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",c(1,7)),7!==t.stack)}))},d2bb:function(t,n,e){var r=e("e330"),c=e("825a"),a=e("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(e,[]),n=e instanceof Array}catch(i){}return function(e,r){return c(e),a(r),n?t(e,r):e.__proto__=r,e}}():void 0)},d9e2:function(t,n,e){var r=e("23e7"),c=e("da84"),a=e("2ba4"),i=e("e5cb"),o="WebAssembly",s=c[o],l=7!==Error("e",{cause:7}).cause,p=function(t,n){var e={};e[t]=i(t,n,l),r({global:!0,constructor:!0,arity:1,forced:l},e)},d=function(t,n){if(s&&s[t]){var e={};e[t]=i(o+"."+t,n,l),r({target:o,stat:!0,constructor:!0,arity:1,forced:l},e)}};p("Error",(function(t){return function(n){return a(t,this,arguments)}})),p("EvalError",(function(t){return function(n){return a(t,this,arguments)}})),p("RangeError",(function(t){return function(n){return a(t,this,arguments)}})),p("ReferenceError",(function(t){return function(n){return a(t,this,arguments)}})),p("SyntaxError",(function(t){return function(n){return a(t,this,arguments)}})),p("TypeError",(function(t){return function(n){return a(t,this,arguments)}})),p("URIError",(function(t){return function(n){return a(t,this,arguments)}})),d("CompileError",(function(t){return function(n){return a(t,this,arguments)}})),d("LinkError",(function(t){return function(n){return a(t,this,arguments)}})),d("RuntimeError",(function(t){return function(n){return a(t,this,arguments)}}))},e391:function(t,n,e){var r=e("577e");t.exports=function(t,n){return void 0===t?arguments.length<2?"":n:r(t)}},e5cb:function(t,n,e){"use strict";var r=e("d066"),c=e("1a2d"),a=e("9112"),i=e("3a9b"),o=e("d2bb"),s=e("e893"),l=e("aeb0"),p=e("7156"),d=e("e391"),u=e("ab36"),f=e("6f19"),_=e("83ab"),h=e("c430");t.exports=function(t,n,e,b){var m="stackTraceLimit",g=b?2:1,w=t.split("."),j=w[w.length-1],O=r.apply(null,w);if(O){var v=O.prototype;if(!h&&c(v,"cause")&&delete v.cause,!e)return O;var y=r("Error"),I=n((function(t,n){var e=d(b?n:t,void 0),r=b?new O(t):new O;return void 0!==e&&a(r,"message",e),f(r,I,r.stack,2),this&&i(v,this)&&p(r,this,I),arguments.length>g&&u(r,arguments[g]),r}));if(I.prototype=v,"Error"!==j?o?o(I,y):s(I,y,{name:!0}):_&&m in O&&(l(I,O,m),l(I,O,"prepareStackTrace")),s(I,O),!h)try{v.name!==j&&a(v,"name",j),v.constructor=I}catch(k){}return I}}},f5df:function(t,n,e){var r=e("00ee"),c=e("1626"),a=e("c6b6"),i=e("b622"),o=i("toStringTag"),s=Object,l="Arguments"==a(function(){return arguments}()),p=function(t,n){try{return t[n]}catch(e){}};t.exports=r?a:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=p(n=s(t),o))?e:l?a(n):"Object"==(r=a(n))&&c(n.callee)?"Arguments":r}}}]);
//# sourceMappingURL=obj.4215e193.js.map